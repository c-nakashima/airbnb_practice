const windowHeight=$(window).height(),windowWidth=$(window).width(),header=document.getElementById("header"),accountBtn=document.getElementById("accountBtn"),userSelectLangList=document.getElementById("userSelectLangList"),searchForm=document.getElementById("searchForm"),extendedFormLists=document.getElementsByClassName("extendedformlist"),shrinkedFormLists=document.getElementsByClassName("shrinkedformlist"),conditions=document.getElementById("conditions"),formLists=document.getElementsByClassName("formlist"),lines=document.getElementsByClassName("line"),formListsArray=document.getElementsByClassName("formlists"),hotelFormLists=document.getElementById("hotelFormLists"),experienceFormLists=document.getElementById("experienceFormLists"),locationForm=document.getElementById("locationForm"),searchFormLines=document.getElementsByClassName("line"),locationWindow=document.getElementById("LocationWindow"),checkinWindow=document.getElementById("CheckinWindow"),peopleWindow=document.getElementById("PeopleWindow"),accountWindow=document.getElementById("AccountWindow");function shrinkSearchForm(){$("header").addClass("-bgwhite"),Array.from(extendedFormLists).forEach((e=>{e.classList.add("-hide")})),Array.from(searchFormLines).forEach((e=>{e.classList.add("-hide")})),Array.from(shrinkedFormLists).forEach((e=>{e.classList.remove("-hide"),e.classList.add("-shrinked")})),searchForm.classList.add("-shrinked"),conditions.classList.add("-hide"),hotelFormLists.classList.add("-shrinked"),experienceFormLists.classList.add("-shrinked"),header.classList.add("-shrinked")}function extendSearchForm(){$("header").removeClass("-bgwhite"),Array.from(extendedFormLists).forEach((e=>{e.classList.remove("-hide")})),Array.from(searchFormLines).forEach((e=>{e.classList.remove("-hide")})),Array.from(shrinkedFormLists).forEach((e=>{e.classList.add("-hide"),e.classList.remove("-shrinked")})),searchForm.classList.remove("-shrinked"),hotelFormLists.classList.remove("-shrinked"),experienceFormLists.classList.remove("-shrinked"),header.classList.remove("-shrinked"),windowWidth>750&&conditions.classList.remove("-hide")}function setClickedFormStyle(){Array.from(formLists).forEach(((e,n)=>{e.addEventListener("click",(()=>{Array.from(formLists).forEach(((e,t)=>{switch(e.classList.remove("-focused"),formListsArray[0].classList.remove("-focused"),n){case 0:lines[0].classList.add("-hide"),lines[1].classList.remove("-hide"),lines[2].classList.remove("-hide");break;case 1:lines[0].classList.add("-hide"),lines[1].classList.add("-hide"),lines[2].classList.remove("-hide");break;case 2:lines[0].classList.remove("-hide"),lines[1].classList.add("-hide"),lines[2].classList.add("-hide");break;case 3:lines[1].classList.remove("-hide"),lines[2].classList.add("-hide")}})),e.classList.add("-focused"),Array.from(formListsArray).forEach((e=>{e.classList.remove("-focused")}))}))}))}function toggleFocusedStatus(){document.addEventListener("click",(e=>{e.target.closest("#searchForm")||(Array.from(formLists).forEach((e=>{e.classList.remove("-focused")})),Array.from(formListsArray).forEach((e=>{e.classList.remove("-focused")})))}))}function toggleFormWindow(e,n){document.addEventListener("click",(t=>{t.target.closest(e)?n.setAttribute("data-open","true"):n.setAttribute("data-open","false")}))}function toggleCheckinFormWindow(){document.addEventListener("click",(e=>{e.target.closest("#checkinForm")||e.target.closest("#checkoutForm")?checkinWindow.setAttribute("data-open","true"):checkinWindow.setAttribute("data-open","false")}))}$(window).scroll((function(){$(this).scrollTop()>$("header").offset().top-windowHeight&&0!==$("header").offset().top?shrinkSearchForm():extendSearchForm()})),setClickedFormStyle(),toggleFormWindow("#locationForm",locationWindow),toggleCheckinFormWindow(),toggleFormWindow("#peopleForm",peopleWindow),toggleFormWindow("#accountBtn",accountWindow),toggleFocusedStatus();const week=["日","月","火","水","木","金","土"],today=new Date,nextMonthToday=new Date;nextMonthToday.setMonth(nextMonthToday.getMonth()+1);let showDate=new Date(today.getFullYear(),today.getMonth(),1),showNextMonthDate=new Date(nextMonthToday.getFullYear(),nextMonthToday.getMonth(),1);const currentMonthPrevBtn=document.getElementById("currentMonthPrevBtn"),currentMonthNextBtn=document.getElementById("currentMonthNextBtn"),nextMonthPrevBtn=document.getElementById("nextMonthPrevBtn"),nextMonthNextBtn=document.getElementById("nextMonthNextBtn");function showPrevMonth(e,n,t){e.addEventListener("click",(()=>{showDate.setMonth(showDate.getMonth()-1),showCalendar(showDate,n,t),e===currentMonthPrevBtn&&(showNextMonthDate.setMonth(showNextMonthDate.getMonth()-1),showCalendar(showNextMonthDate,"nextMonthCalendar","nextCalendarHeader"))}))}function showNextMonth(e,n,t){e.addEventListener("click",(()=>{showNextMonthDate.setMonth(showNextMonthDate.getMonth()+1),showCalendar(showNextMonthDate,n,t),e===nextMonthNextBtn&&(showDate.setMonth(showDate.getMonth()+1),showCalendar(showDate,"calendar","calendarHeader"))}))}function showCalendar(e,n,t){let a=e.getFullYear(),o=e.getMonth();document.getElementById(t).innerHTML=a+"年 "+(o+1)+"月";let s=createCalendar(a,o);document.getElementById(n).innerHTML=s}function createCalendar(e,n){let t="<table><tr class='dayOfWeek'>";for(var a=0;a<week.length;a++)t+=`<th>${week[a]}</th>`;t+="</tr>";let o=0,s=new Date(e,n,1).getDay(),i=new Date(e,n+1,0).getDate(),r=new Date(e,n,0).getDate(),l=Math.ceil((s+i)/week.length);for(let a=0;a<l;a++){t+="<tr>";for(let l=0;l<week.length;l++)0==a&&l<s?t+='<td class="-disabled"><div class="date">'+(r-s+l+1)+"</div></td>":o>=i?(o++,t+='<td class="-disabled"><div class="date">'+(o-i)+"</div></td>"):(o++,e<today.getFullYear()||n<today.getMonth()||e<=today.getFullYear()&&n<=today.getMonth()&&o<today.getDate()?t+=`<td class="-previous"><div class="date">${o}</div></td>`:e==today.getFullYear()&&n==today.getMonth()&&o==today.getDate()?t+=`<td class="-today"><div class="date">${o}</div></td>`:t+=`<td><div class="date">${o}</div></td>`);t+="</tr>"}return t}window.onload=function(){showCalendar(today,"calendar","calendarHeader",calendar),showCalendar(nextMonthToday,"nextMonthCalendar","nextCalendarHeader",calendar),showPrevMonth(currentMonthPrevBtn,"calendar","calendarHeader"),showNextMonth(currentMonthNextBtn,"calendar","calendarHeader"),showPrevMonth(nextMonthPrevBtn,"nextMonthCalendar","nextCalendarHeader"),showNextMonth(nextMonthNextBtn,"nextMonthCalendar","nextCalendarHeader")};const calenderToggleBtn=document.getElementById("calenderToggleBtn"),dateToggleBtn=document.getElementById("dateToggleBtn"),calenderArea=document.getElementById("calenderArea"),flexiblePlanArea=document.getElementById("flexiblePlanArea");calenderToggleBtn.addEventListener("click",(()=>{calenderToggleBtn.classList.toggle("-selected"),dateToggleBtn.classList.toggle("-selected"),calenderArea.classList.remove("-hide"),flexiblePlanArea.classList.add("-hide")})),dateToggleBtn.addEventListener("click",(()=>{dateToggleBtn.classList.toggle("-selected"),calenderToggleBtn.classList.toggle("-selected"),calenderArea.classList.add("-hide"),flexiblePlanArea.classList.remove("-hide")}));const lengthOfStays=document.getElementsByClassName("lengthofstay");Array.from(lengthOfStays).forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("-selected")}))}));const monthList=document.getElementById("monthList"),month=(new Date).getMonth()+1;for(let e=month+1;e<month+7;e++){const n=document.createElement("li");e<=month+2&&n.classList.add("-selected"),n.innerHTML=`<img src="/assets/calendar_selected.jpg" alt="カレンダー"><p>${e}月</p>`,n.addEventListener("click",(()=>{n.classList.toggle("-selected")})),monthList.appendChild(n)}const peopleList=document.getElementById("peopleList"),PeoplenumCounters=document.getElementsByClassName("peoplenumcounter");Array.from(PeoplenumCounters).forEach((e=>{const n=document.createElement("button"),t=document.createElement("span"),a=document.createElement("button");n.setAttribute("class","minusbtn counter"),t.setAttribute("class","peoplenum"),a.setAttribute("class","plusbtn counter");let o=0;function s(){0===o?n.classList.add("-disabled"):n.classList.remove("-disabled")}n.innerText="-",t.innerHTML=String(o),a.innerText="+",e.appendChild(n),e.appendChild(t),e.appendChild(a),a.addEventListener("click",(()=>{o++,t.innerHTML=String(o),s()})),n.addEventListener("click",(()=>{0!=o&&(o--,t.innerHTML=String(o),s())})),o=0,s()}));const langSets=[{lang:"日本語",region:"日本"},{lang:"Azərbaycan dili",region:"Azərbaycan"},{lang:"Bahasa Indonesia",region:"Indonesia"},{lang:"Bosanski",region:"Bosna i Hercegovina"},{lang:"Català",region:"Espanya"},{lang:"Čeština",region:"Česká republika"},{lang:"Crnogorski",region:"Crna Gora"},{lang:"Dansk",region:"Danmark"},{lang:"Deutsch",region:"Deutschland"},{lang:"Deutsch",region:"Österreich"},{lang:"Deutsch",region:"Schweiz"},{lang:"Eesti",region:"Eesti"},{lang:"English",region:"Australia"},{lang:"English",region:"Canada"},{lang:"English",region:"Guyana"},{lang:"English",region:"India"},{lang:"English",region:"Ireland"},{lang:"English",region:"New Zealand"},{lang:"English",region:"Singapore"},{lang:"English",region:"United Arab Emirates"},{lang:"English",region:"Argentina"},{lang:"Español",region:"Belice"},{lang:"Español",region:"Bolivia"},{lang:"Español",region:"Chile"},{lang:"Español",region:"Colombia"},{lang:"Español",region:"Costa Rica"},{lang:"Español",region:"Ecuador"},{lang:"Español",region:"El Salvador"},{lang:"Español",region:"España"},{lang:"Español",region:"Estados Unidos"},{lang:"Español",region:"Guatemala"},{lang:"Español",region:"Honduras"},{lang:"Español",region:"Colombia"},{lang:"Español",region:"México"},{lang:"Español",region:"Nicaragua"},{lang:"Español",region:"Panamá"},{lang:"Español",region:"Paraguay"},{lang:"Español",region:"Perú"},{lang:"Español",region:"Venezuela"},{lang:"Français",region:"Belgique"},{lang:"Français",region:"Canada"},{lang:"Français",region:"France"},{lang:"Français",region:"Suisse"},{lang:"Gaeilge",region:"Éire"},{lang:"Hrvatski",region:"Hrvatska"},{lang:"isiXhosa",region:"eMzantsi Afrika"},{lang:"isiZulu",region:"iNingizimu Afrika"},{lang:"Íslenska",region:"Ísland"},{lang:"Italiano",region:"Italia"},{lang:"Italiano",region:"Svizzera"},{lang:"Latviešu",region:"Āfrika"},{lang:"Latviešu",region:"Latvija"},{lang:"Lietuvių",region:"Lietuva"},{lang:"Magyar",region:"Magyarország"},{lang:"Malti",region:"Malta"},{lang:"Melayu",region:"Malaysia"},{lang:"Nederlands",region:"België"},{lang:"Nederlands",region:"Nederland"},{lang:"Melayu",region:"Nederland"},{lang:"Norsk",region:"Norge"},{lang:"Polski",region:"Polska"},{lang:"Brasil",region:"Português"},{lang:"Portugal",region:"Română"},{lang:"România",region:"Shqip"},{lang:"Shqipëri",region:"Slovenčina"},{lang:"Slovensko",region:"Slovenščina"},{lang:"Slovenija",region:"Srpski"},{lang:"Srbija",region:"Suomi"},{lang:"Svenska",region:"Sverige"},{lang:"Tagalog",region:"Pilipinas"},{lang:"Tiếng Việt",region:"Việt Nam"},{lang:"Türkçe",region:"Türkiye"},{lang:"Ελληνικά",region:"Ελλάδα"},{lang:"Български",region:"България"},{lang:"Македонски",region:"Северна Македонија"},{lang:"Русский",region:"Россия"},{lang:"Українська",region:"Україна"},{lang:"ქართული",region:"საქართველო"},{lang:"Հայերեն",region:"Հայաստան"},{lang:"עברית",region:"ישראל"},{lang:"العربية",region:"العالم"},{lang:"हिन्दी",region:"भारत"},{lang:"ไทย",region:"ประเทศไทย"},{lang:"한국어",region:"대한민국"},{lang:"繁體中文",region:"香港"},{lang:"美国",region:"美國"},{lang:"简体中文",region:"中国"},{lang:"繁體中文",region:"香港"},{lang:"繁體中文",region:"台灣"}];for(let e=0;e<langSets.length;e++){const n=document.createElement("li"),t=document.createElement("p"),a=document.createElement("p");t.classList.add("langname"),a.classList.add("langregion"),t.innerText=langSets[e].lang,a.innerText=langSets[e].region,n.appendChild(t),n.appendChild(a),userSelectLangList.appendChild(n)}