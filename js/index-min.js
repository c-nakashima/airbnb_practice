const windowHeight=$(window).height(),windowWidth=$(window).width(),header=document.getElementById("header"),searchForm=document.getElementById("searchForm"),extendedFormLists=document.getElementsByClassName("extendedformlist"),shrinkedFormLists=document.getElementsByClassName("shrinkedformlist"),conditions=document.getElementById("conditions"),formLists=document.getElementsByClassName("formlist"),hotelFormLists=document.getElementById("hotelFormLists"),experienceFormLists=document.getElementById("experienceFormLists"),locationForm=document.getElementById("locationForm"),searchFormLines=document.getElementsByClassName("line");function shrinkSearchForm(){$("header").addClass("-bgwhite"),console.log(extendedFormLists),Array.from(extendedFormLists).forEach((e=>{e.classList.add("-hide")})),Array.from(searchFormLines).forEach((e=>{e.classList.add("-hide")})),Array.from(shrinkedFormLists).forEach((e=>{e.classList.remove("-hide"),e.classList.add("-shrinked")})),searchForm.classList.add("-shrinked"),conditions.classList.add("-hide"),hotelFormLists.classList.add("-shrinked"),experienceFormLists.classList.add("-shrinked"),header.classList.add("-shrinked")}function extendSearchForm(){$("header").removeClass("-bgwhite"),Array.from(extendedFormLists).forEach((e=>{e.classList.remove("-hide")})),Array.from(searchFormLines).forEach((e=>{e.classList.remove("-hide")})),Array.from(shrinkedFormLists).forEach((e=>{e.classList.add("-hide"),e.classList.remove("-shrinked")})),searchForm.classList.remove("-shrinked"),hotelFormLists.classList.remove("-shrinked"),experienceFormLists.classList.remove("-shrinked"),header.classList.remove("-shrinked"),windowWidth>750&&conditions.classList.remove("-hide")}function setClickedFormStyle(){Array.from(formLists).forEach((e=>{e.addEventListener("click",(t=>{Array.from(formLists).forEach((e=>{e.style.backgroundColor="transparent",e.style.boxShadow="none"})),e.style.backgroundColor="#FFF",e.style.boxShadow="rgb(0 0 0 / 14%) 0px 1px 12px 1px"}))}))}function toggleFormWindow(e,t){document.addEventListener("click",(o=>{o.target.closest(e)?t.setAttribute("data-open","true"):t.setAttribute("data-open","false")}))}$(window).scroll((function(){$(this).scrollTop()>$("header").offset().top-windowHeight&&0!==$("header").offset().top?shrinkSearchForm():extendSearchForm()}));const locationWindow=document.getElementById("LocationWindow"),checkinWindow=document.getElementById("CheckinWindow");setClickedFormStyle(),toggleFormWindow("#locationForm",locationWindow),toggleFormWindow("#checkinForm",checkinWindow);const week=["日","月","火","水","木","金","土"],today=new Date;let showDate=new Date(today.getFullYear(),today.getMonth(),1);function showPrevMonth(){showDate.setMonth(showDate.getMonth()-1),showCalendar(showDate)}function showNextMonth(){showDate.setMonth(showDate.getMonth()+1),showCalendar(showDate)}function showCalendar(e,t,o){let s=e.getFullYear(),n=e.getMonth();document.getElementById(o).innerHTML=s+"年 "+(n+1)+"月";let r=createCalendar(s,n);document.getElementById(t).innerHTML=r}function createCalendar(e,t){let o="<table><tr class='dayOfWeek'>";for(var s=0;s<week.length;s++)o+=`<th>${week[s]}</th>`;o+="</tr>";let n=0,r=new Date(e,t,1).getDay(),a=new Date(e,t+1,0).getDate(),d=new Date(e,t,0).getDate(),i=Math.ceil((r+a)/week.length);for(let s=0;s<i;s++){o+="<tr>";for(let i=0;i<week.length;i++)0==s&&i<r?o+="<td class='disabled'>"+(d-r+i+1)+"</td>":n>=a?(n++,o+="<td class='disabled'>"+(n-a)+"</td>"):(n++,e==today.getFullYear()&&t==today.getMonth()&&n==today.getDate()?o+="<td class='today'>"+n+"</td>":o+="<td>"+n+"</td>");o+="</tr>"}return o}window.onload=function(){showCalendar(today,"calendar","calendarHeader",calendar),showCalendar(today,"nextMonthCalendar","nextCalendarHeader",calendar)};